<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Jérôme Dockès – jerome@dockes.org" />
  <title>labelbuddy documentation</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 17px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 0;
      padding-right: 0;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: monospace;
      background-color: #E2E2E2;
      padding: .2em .4em;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      background-color: #E2E2E2;
      padding: 1em;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <style>
  body {
  max-width: 50em;
  }
  pre {
  white-space: pre;
  }
  pre code {
  white-space: pre;
  overflow: scroll;
  }
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">labelbuddy documentation</h1>
<p class="author">Jérôme Dockès – <a href="mailto:jerome@dockes.org" class="email">jerome@dockes.org</a></p>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#introduction"><span class="toc-section-number">1</span> Introduction</a>
<ul>
<li><a href="#labelbuddy-vs-other-annotation-tools"><span class="toc-section-number">1.1</span> labelbuddy vs other annotation tools</a></li>
<li><a href="#quick-start"><span class="toc-section-number">1.2</span> Quick start</a></li>
</ul></li>
<li><a href="#installation"><span class="toc-section-number">2</span> Installation</a>
<ul>
<li><a href="#from-binary-copies"><span class="toc-section-number">2.1</span> From binary copies</a>
<ul>
<li><a href="#on-debian-or-ubuntu"><span class="toc-section-number">2.1.1</span> On Debian or Ubuntu</a></li>
<li><a href="#on-windows"><span class="toc-section-number">2.1.2</span> On Windows</a></li>
</ul></li>
<li><a href="#from-source"><span class="toc-section-number">2.2</span> From source</a></li>
</ul></li>
<li><a href="#using-labelbuddy"><span class="toc-section-number">3</span> Using labelbuddy</a>
<ul>
<li><a href="#importing-documents"><span class="toc-section-number">3.1</span> Importing documents</a>
<ul>
<li><a href="#from-.txt"><span class="toc-section-number">3.1.1</span> From <code>.txt</code></a></li>
<li><a href="#from-.json"><span class="toc-section-number">3.1.2</span> From <code>.json</code></a></li>
<li><a href="#from-.jsonl"><span class="toc-section-number">3.1.3</span> From <code>.jsonl</code></a></li>
<li><a href="#from-.xml"><span class="toc-section-number">3.1.4</span> From <code>.xml</code></a></li>
</ul></li>
<li><a href="#importing-labels"><span class="toc-section-number">3.2</span> Importing labels</a>
<ul>
<li><a href="#from-.txt-1"><span class="toc-section-number">3.2.1</span> From <code>.txt</code></a></li>
<li><a href="#from-.json-1"><span class="toc-section-number">3.2.2</span> From <code>.json</code></a></li>
</ul></li>
<li><a href="#annotating-documents"><span class="toc-section-number">3.3</span> Annotating documents</a>
<ul>
<li><a href="#summary-of-key-bindings-in-the-annotate-tab"><span class="toc-section-number">3.3.1</span> Summary of key bindings in the “Annotate” tab</a></li>
</ul></li>
<li><a href="#exporting-annotations"><span class="toc-section-number">3.4</span> Exporting annotations</a>
<ul>
<li><a href="#exporting-to-.json"><span class="toc-section-number">3.4.1</span> Exporting to <code>.json</code></a></li>
<li><a href="#exporting-to-.jsonl"><span class="toc-section-number">3.4.2</span> Exporting to <code>.jsonl</code></a></li>
<li><a href="#exporting-to-.xml"><span class="toc-section-number">3.4.3</span> Exporting to <code>.xml</code></a></li>
</ul></li>
<li><a href="#importing-annotations"><span class="toc-section-number">3.5</span> Importing annotations</a>
<ul>
<li><a href="#copying-annotations-to-and-from-doccano"><span class="toc-section-number">3.5.1</span> Copying annotations to and from doccano</a></li>
</ul></li>
<li><a href="#managing-projects"><span class="toc-section-number">3.6</span> Managing projects</a></li>
</ul></li>
<li><a href="#conclusion"><span class="toc-section-number">4</span> Conclusion</a></li>
</ul>
</nav>
<h1 data-number="1" id="introduction"><span class="header-section-number">1</span> Introduction</h1>
<p>labelbuddy is an <a href="https://github.com/jeromedockes/labelbuddy/blob/main/LICENSE.txt">open-source</a> desktop application for annotating documents. It can be used for example for Part Of Speech tagging, Named Entity Recognition, sentiment analysis and document classification …</p>
<p>It aims to be easy to install and use, and can efficiently handle many documents, labels and annotations.</p>
<h2 data-number="1.1" id="labelbuddy-vs-other-annotation-tools"><span class="header-section-number">1.1</span> labelbuddy vs other annotation tools</h2>
<p>There are several tools for annotating documents. Most of them, such as <a href="https://doccano.github.io/doccano/">doccano</a> and <a href="https://labelstud.io/">labelstudio</a> are meant to run on a web server and be used online. If you are crowdsourcing annotations and want many users to contribute annotations to a central database without installing anything on their machine you should turn to one of these tools.</p>
<p>However if you do not plan to host such a tool on a server, it may not be convenient for each annotator to install one of these rather complex tools and run a local server and database management system on their own machine in order to annotate documents. In this case, it may be easier to rely on a desktop application such as labelbuddy, which is a more lightweight solution.</p>
<p>labelbuddy supports the input and output formats of doccano so it is <a href="#copying-annotations-to-and-from-doccano">possible</a> to switch from one to the other or to combine the work of annotators that use either.</p>
<h2 data-number="1.2" id="quick-start"><span class="header-section-number">1.2</span> Quick start</h2>
<p>The easiest way to install labelbuddy is from a <a href="#from-binary-copies">binary distribution</a>. Then to try it out, you can start labelbuddy and open a (temporary) demo database by selecting “Demo” from the “File” menu. You can play around with labelbuddy’s features in this temporary project. If you decide to start creating annotations that you want to keep, open a new database and import your <a href="#importing-documents">documents</a> and <a href="#importing-labels">labels</a>.</p>
<p>Note: a <a href="managing-projects">labelbuddy database</a> is actually just a regular file on your disk (an <a href="https://www.sqlite.org/index.html">SQLite</a> database).</p>
<h1 data-number="2" id="installation"><span class="header-section-number">2</span> Installation</h1>
<h2 data-number="2.1" id="from-binary-copies"><span class="header-section-number">2.1</span> From binary copies</h2>
<p>Packages are available for Debian and Windows <a href="https://github.com/jeromedockes/labelbuddy/releases">here</a>.</p>
<h3 data-number="2.1.1" id="on-debian-or-ubuntu"><span class="header-section-number">2.1.1</span> On Debian or Ubuntu</h3>
<ul>
<li><a href="https://github.com/jeromedockes/labelbuddy/releases">Download</a> the package that corresponds to your architecture (if you don’t know it is most likely <code>amd64</code> aka <code>x86-64</code> but you can check with <code>dpkg --print-architecture</code> or <code>uname -m</code>).</li>
<li>Install it with <code>apt</code>, for example:</li>
</ul>
<pre><code>sudo apt install labelbuddy_0.0.1-1_amd64.deb</code></pre>
<h3 data-number="2.1.2" id="on-windows"><span class="header-section-number">2.1.2</span> On Windows</h3>
<ul>
<li><a href="https://github.com/jeromedockes/labelbuddy/releases">Download</a> and run <code>labelbuddy_windows_installer.exe</code></li>
</ul>
<h2 data-number="2.2" id="from-source"><span class="header-section-number">2.2</span> From source</h2>
<ul>
<li><p>Download a source distribution from <a href="https://github.com/jeromedockes/labelbuddy/releases">here</a>, or get the latest code by cloning or downloading <a href="https://github.com/jeromedockes/labelbuddy/">the labelbuddy git repository</a>.</p></li>
<li><p>labelbuddy uses <a href="https://www.qt.io/">Qt 5</a>. Qt can probably be installed with your package manager, for example: <code>apt-get install qt5-default</code>. Otherwise you can get it from the <a href="https://www.qt.io/download-qt-installer">Qt downloads page</a>.</p></li>
<li><p>labelbuddy can be built with <a href="https://cmake.org/">CMake</a>. In an empty directory run:</p>
<pre><code>cmake /path/to/labelbuddy
cmake --build .</code></pre></li>
<li><p>It can also be built with <a href="https://doc.qt.io/qt-5/qmake-manual.html">qmake</a>:</p>
<pre><code>qmake /path/to/labelbuddy
make</code></pre></li>
</ul>
<h1 data-number="3" id="using-labelbuddy"><span class="header-section-number">3</span> Using labelbuddy</h1>
<p>Documents and labels can be imported into labelbuddy from various formats. Once you have imported documents and labels into the labelbuddy database, you can annotate the documents and finally export your annotations. It is also possible to import annotations exported from labelbuddy or doccano.</p>
<p>Documents and labels that are already in the database are skipped if you try to import them again.</p>
<h2 data-number="3.1" id="importing-documents"><span class="header-section-number">3.1</span> Importing documents</h2>
<p>In the “Import / Export” tab, click “Import docs &amp; annotations” and select a file. The format is deduced from the filename extension.</p>
<p>For each document, you will import its text, that you will annotate. Optionally, you can also associate with it some metadata, for example a title, DOI, author … This data is not used by labelbuddy. It is stored and bundled with the document when you export it.</p>
<p>These texts and metadata can be imported into the labelbuddy database from several plain text formats.</p>
<h3 data-number="3.1.1" id="from-.txt"><span class="header-section-number">3.1.1</span> From <code>.txt</code></h3>
<p>The simplest format you can use is a <code>.txt</code>. In this case, the file must contain one document per line. The newlines that separate documents are not considered part of the document and are discarded.</p>
<p>While convenient, this format has some limitations: you cannot associate metadata with the documents, and the documents cannot contain newlines. Moreover, the file’s encoding will be interpreted based on your locale settings. The other import formats share none of these limitations.</p>
<h3 data-number="3.1.2" id="from-.json"><span class="header-section-number">3.1.2</span> From <code>.json</code></h3>
<p>The file must be a JSON file containing one JSON array. Each element of the array represents one document and its (optional) metadata. These elements can be either a JSON array of the form <code>[text, metadata]</code> or a JSON object with the keys <code>"text"</code> and <code>"meta"</code>.</p>
<p><code>text</code> is a string literal containing the text of the document. <code>meta</code> is optional (whether you are using the array or object format). If specified, it is a JSON object containing user data about the document.</p>
<p>Therefore imported JSON files might look like:</p>
<ul>
<li><p>using the array format:</p>
<pre><code>[
[&quot;text of first doc&quot;, {&quot;title&quot;: &quot;doc 1&quot;, &quot;DOI&quot;: &quot;123&quot;}],
[&quot;text of second doc&quot;]
]</code></pre>
<p>(note the second document doesn’t have any metadata)</p></li>
<li><p>using the object format (compatible with doccano):</p>
<pre><code>[
{&quot;text&quot;: &quot;text of first doc&quot;, &quot;meta&quot;: {&quot;title&quot;: &quot;doc 1&quot;, &quot;DOI&quot;: &quot;123&quot;}},
{&quot;text of second doc&quot;}
]</code></pre>
<p>Moreover, using the object format it is also possible to <a href="#importing-annotations">import annotations</a> together with a new document, or for a document already in the database.</p></li>
</ul>
<h3 data-number="3.1.3" id="from-.jsonl"><span class="header-section-number">3.1.3</span> From <code>.jsonl</code></h3>
<p>When importing a <code>.json</code> file the whole file is read into memory before inserting the documents in the database. If you prefer documents to be read one by one, you can use <a href="https://jsonlines.org/">JSON Lines</a>. It is almost the same as the JSON format, but instead of having one JSON array, the file must contain one JSON document per line. For example:</p>
<pre><code>[&quot;text of first doc&quot;, {&quot;title&quot;: &quot;doc 1&quot;, &quot;DOI&quot;: &quot;123&quot;}]
[&quot;text of second doc&quot;]</code></pre>
<p>(Note the outer brackets are removed and the documents are not separated by commas.)</p>
<p>As for <code>.json</code>, <code>.jsonl</code> also allows <a href="#importing-annotations">importing annotations</a>.</p>
<h3 data-number="3.1.4" id="from-.xml"><span class="header-section-number">3.1.4</span> From <code>.xml</code></h3>
<p>You can also use a simple XML format. In this case as well, the documents are read one by one. The root element must be <code>document_set</code> and contain any number of <code>document</code> elements. Each <code>document</code> contains the text of a document, and metadata can be stored in its attributes. For example:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;document_set&gt;
  &lt;document DOI=&quot;123&quot; title=&quot;doc 1&quot;&gt;text of first doc&lt;/document&gt;
  &lt;document&gt;text of second doc&lt;/document&gt;
&lt;/document_set&gt;</code></pre>
<h2 data-number="3.2" id="importing-labels"><span class="header-section-number">3.2</span> Importing labels</h2>
<p>As for documents, the format is deduced from the filename extension when importing labels. You specify the label name and an optional label color (which can be changed from within the GUI application).</p>
<h3 data-number="3.2.1" id="from-.txt-1"><span class="header-section-number">3.2.1</span> From <code>.txt</code></h3>
<p>The text file contains one label per line. For example:</p>
<pre><code>Noun
Verb
Adjective</code></pre>
<p>You can specify a color for each label (or labels that contain newlines) by using the <code>.json</code> format.</p>
<h3 data-number="3.2.2" id="from-.json-1"><span class="header-section-number">3.2.2</span> From <code>.json</code></h3>
<p>The file must contain one JSON array with one element per label. As for documents, each label can be represented by a JSON array or a JSON object. If it is an array, the first element is the label name and the (optional) second one is a color string. If it is an object, it must have the key <code>text</code> and optionally the key <code>background_color</code>. For example:</p>
<pre><code>[
[&quot;Noun&quot;, &quot;#ff0000&quot;],
[&quot;Verb&quot;, &quot;yellow&quot;],
[&quot;Adjective&quot;]
]</code></pre>
<p>Or using the object format (compatible with doccano):</p>
<pre><code>[
{&quot;text&quot;: &quot;Noun&quot;, &quot;background_color&quot;: &quot;#ff0000&quot;},
{&quot;text&quot;: &quot;Verb&quot;, &quot;background_color&quot;: &quot;yellow&quot;},
{&quot;text&quot;: &quot;Adjective&quot;}
]</code></pre>
<h2 data-number="3.3" id="annotating-documents"><span class="header-section-number">3.3</span> Annotating documents</h2>
<p>Once you have imported labels and documents you can see them in the “Dataset” tab. You can delete labels or documents and change the color associated with each label. You then go to the “Annotate” tab. (If you double-click a document it will be opened in the “Annotate” tab).</p>
<p>To annotate a document, select the region you want to label with the mouse and click on the appropriate label.</p>
<p>Once you have created annotations, you can select any of them by clicking it. (It becomes bold and underlined and) you can change its label by clicking on a different one or remove the annotation by clicking “remove”.</p>
<p>If you create a new annotation that overlaps with a previously existing one, the previously existing one is automatically removed.</p>
<h3 data-number="3.3.1" id="summary-of-key-bindings-in-the-annotate-tab"><span class="header-section-number">3.3.1</span> Summary of key bindings in the “Annotate” tab</h3>
<ul>
<li><strong>&lt;Ctrl&gt;</strong> and scroll the mouse: zoom or dezoom the text</li>
<li><strong>&lt;Ctrl&gt;-F</strong>: search</li>
<li><strong>&lt;Enter&gt;</strong>: next search match</li>
<li><strong>&lt;Shift&gt;-&lt;Enter&gt;</strong>: previous search match</li>
<li><strong>&lt;Ctrl&gt;-J</strong>, <strong>&lt;Ctrl&gt;-N</strong>, <strong>&lt;Down&gt;</strong>: scroll down one line</li>
<li><strong>&lt;Ctrl&gt;-K</strong>, <strong>&lt;Ctrl&gt;-P</strong>, <strong>&lt;Up&gt;</strong>: scroll up one line</li>
<li><strong>&lt;Ctrl&gt;-D</strong>: scroll down one page</li>
<li><strong>&lt;Ctrl&gt;-U</strong>: scroll up one page</li>
</ul>
<h2 data-number="3.4" id="exporting-annotations"><span class="header-section-number">3.4</span> Exporting annotations</h2>
<p>Once you are satisfied with your annotations you can export them to an <code>.json</code>, <code>.jsonl</code> or <code>.xml</code> file to share them or use them in other applications.</p>
<p>Back in the “Import / Export” tab, click “Export”. You can choose to export all documents or only those that have annotations. You can choose to export the text of the documents or not. If you don’t export the text, the documents can be identified from metadata you may have associated with them, or by the MD5 checksum of the text that is always exported. You can also provide an “Annotation approver” (user name), that will be exported as the <code>annotation_approver</code> (this term is used for compatibility with doccano).</p>
<p>When clicking “Export” you are asked to select a file and the resulting format will depend on the filename extension.</p>
<h3 data-number="3.4.1" id="exporting-to-.json"><span class="header-section-number">3.4.1</span> Exporting to <code>.json</code></h3>
<p>The file will contain one JSON array, with one object per document. Each element is always on one separate line. Each object has the keys “text” (optional), <code>annotation_approver</code> (optional), <code>document_md5_checksum</code> (always), <code>labels</code> (always), and <code>meta</code> (always, containing the metadata provided when importing the document, if any).</p>
<p>The value for <code>labels</code> is a JSON array, with one element per annotation. Each annotation is an array containing 3 elements: the position of the first character (starting from 0 at the begining of the text), the position of one past the last character, and the label name. For example if the text starts with “hello” and you highlighted exactly that word, and labelled it with <code>label_1</code>, the associated annotation will be <code>[0, 5, "label_1"]</code>.</p>
<p>In summary, exported annotations for the documents in the examples above might look like:</p>
<pre><code>[
{&quot;annotation_approver&quot;:&quot;jerome&quot;,&quot;document_md5_checksum&quot;:&quot;f5a42de39848dbdadf79aade46135b7a&quot;,&quot;labels&quot;:[[0,4,&quot;Noun&quot;]],&quot;meta&quot;:{&quot;DOI&quot;:&quot;123&quot;,&quot;title&quot;:&quot;doc 1&quot;},&quot;text&quot;:&quot;text of first doc&quot;},
{&quot;annotation_approver&quot;:&quot;jerome&quot;,&quot;document_md5_checksum&quot;:&quot;d5c080bd4c6033f977182e757a0059b1&quot;,&quot;labels&quot;:[[0,4,&quot;Verb&quot;],[8,14,&quot;Adjective&quot;]],&quot;meta&quot;:{},&quot;text&quot;:&quot;text of second doc&quot;}
]</code></pre>
<h3 data-number="3.4.2" id="exporting-to-.jsonl"><span class="header-section-number">3.4.2</span> Exporting to <code>.jsonl</code></h3>
<p>If you choose to export to a <a href="https://jsonlines.org/">JSON lines</a> file, the content will be almost the same as the JSON one, but with just one JSON object per line and not one JSON array containing all the documents:</p>
<pre><code>{&quot;annotation_approver&quot;:&quot;jerome&quot;,&quot;document_md5_checksum&quot;:&quot;f5a42de39848dbdadf79aade46135b7a&quot;,&quot;labels&quot;:[[0,4,&quot;Noun&quot;]],&quot;meta&quot;:{&quot;DOI&quot;:&quot;123&quot;,&quot;title&quot;:&quot;doc 1&quot;},&quot;text&quot;:&quot;text of first doc&quot;}
{&quot;annotation_approver&quot;:&quot;jerome&quot;,&quot;document_md5_checksum&quot;:&quot;d5c080bd4c6033f977182e757a0059b1&quot;,&quot;labels&quot;:[[0,4,&quot;Verb&quot;],[8,14,&quot;Adjective&quot;]],&quot;meta&quot;:{},&quot;text&quot;:&quot;text of second doc&quot;}</code></pre>
<h3 data-number="3.4.3" id="exporting-to-.xml"><span class="header-section-number">3.4.3</span> Exporting to <code>.xml</code></h3>
<p>If you choose a <code>.xml</code> file the result is a UTF-8 encoded XML document. The root element is <code>annotated_document_set</code>, it contains zero or more <code>annotated_document</code>, each containing:</p>
<ul>
<li>a <code>document_md5_checksum</code> element with the checksum as its text</li>
<li>if you chose to export the documents’ content: a <code>document</code> element with the content as its text, and the metadata as its attributes.</li>
<li>otherwise: an empty <code>meta</code> element with the metadata as its attributes.</li>
<li>an <code>annotation_set</code> element, containing <code>annotation</code> elements, each containing:
<ul>
<li>a <code>start_char</code></li>
<li>an <code>end_char</code></li>
<li>a <code>label</code></li>
</ul></li>
</ul>
<p>So for our example it looks like:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;annotated_document_set&gt;
    &lt;annotated_document&gt;
        &lt;document_md5_checksum&gt;f5a42de39848dbdadf79aade46135b7a&lt;/document_md5_checksum&gt;
        &lt;document DOI=&quot;123&quot; title=&quot;doc 1&quot;&gt;text of first doc&lt;/document&gt;
        &lt;annotation_approver&gt;jerome&lt;/annotation_approver&gt;
        &lt;annotation_set&gt;
            &lt;annotation&gt;
                &lt;start_char&gt;0&lt;/start_char&gt;
                &lt;end_char&gt;4&lt;/end_char&gt;
                &lt;label&gt;Noun&lt;/label&gt;
            &lt;/annotation&gt;
        &lt;/annotation_set&gt;
    &lt;/annotated_document&gt;
    &lt;annotated_document&gt;
        &lt;document_md5_checksum&gt;d5c080bd4c6033f977182e757a0059b1&lt;/document_md5_checksum&gt;
        &lt;document&gt;text of second doc&lt;/document&gt;
        &lt;annotation_approver&gt;jerome&lt;/annotation_approver&gt;
        &lt;annotation_set&gt;
            &lt;annotation&gt;
                &lt;start_char&gt;0&lt;/start_char&gt;
                &lt;end_char&gt;4&lt;/end_char&gt;
                &lt;label&gt;Verb&lt;/label&gt;
            &lt;/annotation&gt;
            &lt;annotation&gt;
                &lt;start_char&gt;8&lt;/start_char&gt;
                &lt;end_char&gt;14&lt;/end_char&gt;
                &lt;label&gt;Adjective&lt;/label&gt;
            &lt;/annotation&gt;
        &lt;/annotation_set&gt;
    &lt;/annotated_document&gt;
&lt;/annotated_document_set&gt;</code></pre>
<h2 data-number="3.5" id="importing-annotations"><span class="header-section-number">3.5</span> Importing annotations</h2>
<p>Annotations that were exported to <code>.json</code> or <code>.jsonl</code> can be imported back into the same or another labelbuddy database. Simply use the “Import docs &amp; annotations” button and select the exported file. Labels used in the annotations that are not in the database will be added (with an arbitrary color that can be changed in the application).</p>
<p>For documents already in the database, annotations will be imported whether the document’s text was exported together with the annotations or not. If the text is not present in the exported file, the MD5 checksum will be used to associate the annotations with the correct document.</p>
<p>To avoid mixing annotations from different sources, if the document already contains annotations in the database, the new annotations will not be added.</p>
<p>For documents that are not in the database, their text must have been exported together with the annotations and in this case both the document and the annotations will be added to the database.</p>
<h3 data-number="3.5.1" id="copying-annotations-to-and-from-doccano"><span class="header-section-number">3.5.1</span> Copying annotations to and from doccano</h3>
<p>Documents and annotations exported from doccano can also be imported into a labelbuddy database. To do so, when exporting from doccano select the format “jsonl (text label)”. Make sure to save them in a file with the <code>.jsonl</code> extension (not <code>.json</code>) otherwise labelbuddy will try to parse it as JSON and JSON Lines is not valid JSON.</p>
<p><strong>Note:</strong> doccano strips leading and trailing whitespace from documents when importing them. Therefore if you import the result into a labelbuddy database that already contains the original documents, it may not be recognized as being the same (labelbuddy doesn’t modify the imported documents) and you might end up with (near) duplicate documents in the database.</p>
<p>Similarly, annotations exported from labelbuddy in the <code>.jsonl</code> format together with the document’s text can be imported into doccano (selecting the “JSONL” import format).</p>
<p><strong>Note:</strong> if the original document contained leading whitespace, labelbuddy annotations will appear shifted when doccano removes the whitespace. Moreover, doccano allows duplicate documents so if the documents were already in the doccano database, they will appear as new (duplicate) documents rather than new annotations for existing documents.</p>
<h2 data-number="3.6" id="managing-projects"><span class="header-section-number">3.6</span> Managing projects</h2>
<p>Each labelbuddy project (a set of documents, labels and annotations) is an <a href="https://www.sqlite.org/index.html">SQLite</a> database. That is a single binary file on your disk that you can copy, backup, or share, like any other file.</p>
<p>(Advanced users can also open a connection directly to the database to query it or even modify it – at your own risk! back it up before and set “<code>PRAGMA foreign_keys = ON</code>”)</p>
<p>When you first start labelbuddy it creates a new database in <code>~/labelbuddy_data.sqlite3</code>. You can switch to a different one from the “File” menu by selecting “Open” or “New”. The path to the current database is displayed in the “Import / Export” tab.</p>
<p>The next time you start labelbuddy, it will open the last database that you opened.</p>
<p>The database to open can also be specified when invoking labelbuddy from the command line:</p>
<pre><code>labelbuddy /path/to/my_project.sqlite3</code></pre>
<p>If you just want to give labelbuddy a try and don’t have documents or labels yet, you can also select “Demo” from the “File” menu to open a temporary database pre-loaded with a few examples.</p>
<h1 data-number="4" id="conclusion"><span class="header-section-number">4</span> Conclusion</h1>
<p>labelbuddy was created using C++, <a href="https://www.qt.io/">Qt</a>, <a href="https://www.sqlite.org/index.html">SQLite</a>, tools from the <a href="https://www.gnu.org/">GNU project</a>, and more.</p>
<p>If you find a bug, kindly open an issue on the labelbuddy <a href="https://github.com/jeromedockes/labelbuddy/issues">repository</a>.</p>
</body>
</html>
